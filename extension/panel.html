<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Incident Summaries</title>
    <link rel="stylesheet" href="panel.css" />
  </head>
  <body>
    <div class="app">
      <header class="header">
        <div class="title">Incident Summaries</div>
        <div class="subtitle">Local JSON + LLM summaries</div>
      </header>

      <section class="controls">
        <div class="row">
          <button id="btn-load" class="btn">Load From Storage</button>
          <button id="btn-scrape" class="btn">Scrape Now</button>
          <button id="btn-clear" class="btn ghost">Clear</button>
          <button id="btn-download" class="btn ghost">Download JSON</button>
        </div>
        <div class="row">
          <label class="file-btn">
            Import JSON
            <input id="file-input" type="file" accept="application/json" />
          </label>
          <button id="btn-summarize" class="btn primary">Summarize (LLM)</button>
        </div>
        <div class="row">
          <input id="server-url" class="input" type="text" value="http://localhost:8787/summarize" />
        </div>
        <div class="row">
          <input id="import-url" class="input" type="text" value="http://localhost:8787/import" />
          <input
            id="import-password"
            class="input"
            type="password"
            placeholder="Import password"
            style="max-width: 200px"
          />
          <button id="btn-upload-firebase" class="btn primary">Upload to Firebase</button>
        </div>
        <div id="status" class="status"></div>
      </section>

      <section class="content">
        <div class="grid">
          <div class="panel">
            <div class="panel-title">Incidents</div>
            <div id="incident-list" class="list"></div>
          </div>
          <div class="panel">
            <div class="tabs">
              <button id="tab-summary" class="tab active">Summary</button>
              <button id="tab-json" class="tab">Raw JSON</button>
            </div>
            <div id="summary-pane" class="tab-pane active">
              <pre id="summary-view" class="summary"></pre>
            </div>
            <div id="json-pane" class="tab-pane">
              <pre id="json-view" class="json"></pre>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div id="img-modal" class="img-modal">
      <div class="img-modal__backdrop"></div>
      <div class="img-modal__dialog">
        <button id="img-modal-close" class="img-modal__close">Ã—</button>
        <img id="img-modal-img" src="" alt="Attachment preview" />
        <div id="img-modal-meta" class="img-modal__meta"></div>
      </div>
    </div>

    <script src="panel.js"></script>
  </body>
</html>
